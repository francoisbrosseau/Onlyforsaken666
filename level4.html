<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Level 4 ‚Äî The Halls of the Whispering Stone</title>

  <!-- MUST be the same CSS file as Level 2/3 -->
  <link rel="stylesheet" href="style.css" />

  <style>
    :root{
      --ink: rgba(235, 226, 214, .94);
      --muted: rgba(235, 226, 214, .72);
      --faint: rgba(235, 226, 214, .52);
      --edge: rgba(255,255,255,.10);
      --edge2: rgba(255,255,255,.18);
      --cold: rgba(155,210,255,.28);
      --warn: rgba(255,140,140,.90);
      --ok: rgba(170,255,210,.92);
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }

    /* IMPORTANT: do NOT set fonts here. Level 2/3 decide fonts. */
    body{
      margin:0;
      background:#000;
      color:var(--ink);
      overflow-x:hidden;
    }

    /* ‚úÖ BACKGROUND IMAGE PLACE (THIS IS IT) */
    /* Put level4.jpg in the same folder as this HTML */
    .bg{
      position:fixed;
      inset:0;
      z-index:-2;
      background:#000;
      overflow:hidden;
    }
    .bg img{
      width:100%;
      height:100%;
      object-fit:cover;
      filter: brightness(.72) contrast(1.05) saturate(.95);
      transform: scale(1.03);
    }

    .overlay{
      position:fixed;
      inset:0;
      z-index:-1;
      background:
        radial-gradient(900px 600px at 50% 35%, rgba(0,0,0,.12), rgba(0,0,0,.75) 70%, rgba(0,0,0,.90) 100%),
        linear-gradient(180deg, rgba(0,0,0,.40), rgba(0,0,0,.78));
    }

    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 56px 16px;
    }

    /* Single centered block like your Level 2/3 vibe */
    .center{
      width: min(860px, 100%);
      text-align:center;
      padding: 18px 18px 12px;
    }

    .kicker{
      margin:0 0 10px;
      letter-spacing:.32em;
      text-transform:uppercase;
      font-size:12px;
      color: var(--faint);
    }

    /* üî• Title: NO font-family here at all so it uses Level 2/3 exactly */
    h1{
      margin:0 0 12px;
      /* do NOT set font-family */
      font-size: clamp(34px, 4.6vw, 56px);
      letter-spacing:.03em;
      line-height:1.02;
      text-shadow: 0 0 26px rgba(255,255,255,.10);
    }

    .story{
      margin: 0 auto;
      text-align:left;
      font-size: 18px;
      line-height: 1.9;
      letter-spacing:.01em;
      text-shadow: 0 1px 0 rgba(0,0,0,.35);
    }
    .story p{ margin:0 0 14px; }

    .quote{
      margin: 18px 0;
      padding: 14px 14px;
      border-left: 3px solid var(--cold);
      background: rgba(0,0,0,.22);
      border-radius: 12px;
      color: rgba(235,226,214,.92);
    }

    .sep{
      height:1px;
      background: linear-gradient(90deg, transparent, var(--edge2), transparent);
      margin: 18px 0 16px;
    }

    .riddleTitle{
      margin: 0 0 8px;
      /* do NOT set font-family, keep like Level 2/3 */
      font-size: 24px;
      letter-spacing:.04em;
    }

    .riddle{
      margin:0;
      padding: 14px 14px;
      border-radius: 14px;
      border: 1px solid var(--edge);
      background: rgba(0,0,0,.20);
      font-size: 18px;
      line-height: 1.7;
      color: rgba(235,226,214,.92);
    }

    /* Password area ‚Äî smaller + centered */
    .gate{
      margin-top: 16px;
      padding-top: 14px;
      border-top: 1px solid rgba(255,255,255,.10);
    }

    .gateLabel{
      color: var(--muted);
      text-align:center;
    }

    .gateRow{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:center; /* ‚úÖ centered */
      margin-top: 10px;
      flex-wrap:wrap;
    }

    input[type="password"]{
      width: 220px;          /* ‚úÖ smaller */
      max-width: 70vw;
      padding: 10px 12px;    /* ‚úÖ smaller */
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.35);
      color: var(--ink);
      outline:none;
      font-size: 16px;
      text-align:center;     /* ‚úÖ matches centered vibe */
    }

    button{
      padding: 10px 14px;    /* ‚úÖ smaller */
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--ink);
      cursor:pointer;
      font-size: 16px;
    }
    button:hover{ background: rgba(255,255,255,.09); }

    .msg{
      min-height: 22px;
      margin-top: 10px;
      text-align:center;
      color: var(--muted);
      font-size: 15px;
    }
    .msg.error{ color: var(--warn); }
    .msg.ok{ color: var(--ok); }

    .reveal{
      display:none;
      margin-top: 10px;
      text-align:center;
      color: rgba(235,226,214,.86);
    }

    .reveal a{
      color: rgba(200,235,255,.92);
      text-decoration:none;
      border-bottom: 1px solid rgba(200,235,255,.25);
    }
    .reveal a:hover{ border-bottom-color: rgba(200,235,255,.55); }

    /* Hidden meta: B R E A T H embedded (subtle) */
    .sigil{ color: inherit; }
    .hintOn .sigil{
      text-shadow: 0 0 10px rgba(155,210,255,.18);
      border-bottom: 1px dotted rgba(155,210,255,.22);
    }

    .hintBar{
      display:flex;
      justify-content:flex-end;
      margin-top: 6px;
    }
    .hintBtn{
      padding: 10px 12px;
      font-size: 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(235,226,214,.70);
      cursor:pointer;
    }
    .hintBtn:hover{ background: rgba(255,255,255,.05); }
  </style>
</head>

<body>
  <!-- ‚úÖ THIS is where you put your image: name it level4.jpg -->
  <div class="bg">
    <img src="level4.jpg" alt="">
  </div>
  <div class="overlay"></div>

  <main class="wrap">
    <section class="center" id="panel">
      <p class="kicker">Castle Descent ‚Ä¢ Level 4</p>
      <h1>The Halls of the Whispering Stone</h1>

      <div class="story">
        <p>The stairs spiral down far longer than they should.</p>

        <p>
          Your footsteps echo, but the echo returns a fraction too late‚Äîlike something is repeating them after you.
          The air tastes of dust and old iron.
        </p>

        <p>
          At the bottom, the stairwell opens into a corridor carved from black rock. No torches. No windows.
          Yet you can see.
        </p>

        <p>
          The walls are covered with shapes that almost look like faces, stretching outward from the stone,
          mouths open in silent warnings. Their eyes follow you as you walk.
        </p>

        <p>
          Halfway down, the whispers begin. Not loud enough to understand‚Äîlayered, desperate, overlapping.
          Some beg. Some laugh. Some repeat the same word again and again.
        </p>

        <div class="quote">
          At the far end stands a door of pale marble, untouched by age. Letters carve themselves into its surface,
          as if written by an invisible claw. The whispers stop. One voice remains:
          <br><br>
          ‚ÄúIf you wish to go further, you must answer.
          Speak the thing that is taken from you the moment you try to hold it.‚Äù
        </div>

        <p>
          The corridor feels <span class="sigil">B</span>lessed and cursed at once‚Äîlike it was built to listen.
          Your chest rises, then stills, as if the stone is counting.
          The marble waits, patient as <span class="sigil">R</span>uins.
        </p>

        <p>
          You try to steady yourself, but the air refuses to belong to you.
          The walls drink warmth with every step, and even the silence feels <span class="sigil">E</span>arned.
        </p>

        <p>
          A thin fog curls along the floor, slipping around your ankles like a warning you can‚Äôt <span class="sigil">A</span>void.
          Somewhere behind the stone faces, something sighs.
        </p>

        <p>
          Instinct says to hold on‚Äîbut the moment you grip it, it leaves you. Always. Without <span class="sigil">T</span>ouch.
        </p>

        <p>
          The last whisper is close enough to feel against your skin‚Äî
          a reminder that even courage needs a <span class="sigil">H</span>ollow space to enter.
        </p>

        <div class="hintBar">
          <button class="hintBtn" id="hintBtn" type="button">Toggle subtle hint</button>
        </div>

        <div class="sep"></div>

        <h2 class="riddleTitle">Riddle</h2>
        <p class="riddle">‚ÄúWhat is taken from you the moment you try to hold it?‚Äù</p>

        <div class="gate">
          <div class="gateLabel">Enter the password to descend.</div>

          <div class="gateRow">
            <input id="pw" type="password" placeholder="Password‚Ä¶" autocomplete="off" />
            <button id="enterBtn" type="button">Enter</button>
          </div>

          <div class="msg" id="msg"></div>

          <div class="reveal" id="reveal">
            The marble seam opens with a slow exhale.
            <br><br>
            <a href="level5.html">Continue to Level 5 ‚Üí</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const ACCEPTED = new Set(["breathe","breath"]);

    const panel = document.getElementById("panel");
    const hintBtn = document.getElementById("hintBtn");

    const pw = document.getElementById("pw");
    const enterBtn = document.getElementById("enterBtn");
    const msg = document.getElementById("msg");
    const reveal = document.getElementById("reveal");

    const norm = (s) => (s || "").trim().toLowerCase();

    function check(){
      const val = norm(pw.value);
      if(!val){
        msg.textContent = "Enter a word.";
        msg.className = "msg error";
        reveal.style.display = "none";
        return;
      }
      if(ACCEPTED.has(val)){
        msg.textContent = "Accepted.";
        msg.className = "msg ok";
        reveal.style.display = "block";
      } else {
        msg.textContent = "Wrong. The whispers press closer.";
        msg.className = "msg error";
        reveal.style.display = "none";
      }
    }

    enterBtn.addEventListener("click", check);
    pw.addEventListener("keydown", (e)=>{ if(e.key === "Enter") check(); });

    hintBtn.addEventListener("click", ()=> panel.classList.toggle("hintOn"));
  </script>
</body>
</html>
